pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- main
function _init()
	init_eye()
end

function _update()
	move_eye()
end

function _draw()
	cls(12)
	palt(0,false)
	palt(12,true)
	map()
	palt(0,true)
	palt(12,false)	
	draw_sprite(eye)
end

-->8
--eye
eye={}

function init_eye()
	eye.x=64
	eye.y=64
	eye.idx=1
end

function move_eye()
 eye.idx=1
	local dx,dy=0,0
	if (btn(0)) dx-=1
	if (btn(1)) dx+=1
	if (btn(2)) dy-=1
	if (btn(3)) dy+=1
	if dx~=0 and dy~=0 then
		dx=flr(0.71*dx)
		dy=flr(0.71*dy)
		if (dy<0 and dx<0) eye.idx=18
		if (dy<0 and dx>0) eye.idx=19
		if (dy>0 and dx>0) eye.idx=20
		if (dy>0 and dx<0) eye.idx=21
	else
		if (dy>0) eye.idx=3
		if (dy<0) eye.idx=2			
		if (dx>0) eye.idx=4
		if (dx<0) eye.idx=5
	end
	eye.x+=dx
	eye.y+=dy
end
-->8
--utils
function draw_sprite(sprite)
	spr(sprite.idx,sprite.x-4,sprite.y-4)
end
__gfx__
000000000044440000444400004444000044440000444400000000000000000000000000eeeee1ee5005150dd0d50551d0d5055110010d150000000000000000
000000000499994004999940049999400499994004999940000000000000000000000000888881e80d5001d00d5500d00d1500d05d0550d10000000000000000
007007004977779449711794497777944977779449777794000000000000000000000000888881e85551001d5500510051005100501005000000000000000000
000770004971179449711794497777944977119449117794000000000000000000000000111111111151105510010051100100510050d5010000000000000000
000770004971179449777794497117944977119449117794000000000000000000000000ee1eeeee105d05005011d0505011d050550115110000000000000000
007007004977779449777794497117944977779449777794000000000000000000000000881e8888001001050555550d0155510dd50015550000000000000000
000000000499994004999940049999400499994004999940000000000000000000000000881e88881d0510d50d5100d10d5100d10d5005d00000000000000000
0000000000444400004444000044440000444400004444000000000000000000000000001111111151d010015051101550511015d05150050000000000000000
00000000000000000044440000444400004444000044440000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000499994004999940049999400499994000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000004911779449771194497777944977779400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000004911779449771194497777944977779400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000004977779449777794497711944911779400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000004977779449777794497711944911779400000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000499994004999940049999400499994000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000044440000444400004444000044440000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0909090909090909090909090909090900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090d0c0c0c0c0b0b0d0c0c0c0c0b0b0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090d0c0d0c0c0c0c0d0c0c0c0c0b0b0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090c0c0d0c0c0c0c0c0c0a0d0b0d0b0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090c0a0c0c0a0d0b0c0a0c0d0b0b0d0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090a0d0c0a0c0d0d0c0c0c0c0b0b0d0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090b0b0a0d0c0c0d0c0c0c0c0b0b0d0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090d0c0b0b0a0c0c0c0a0d0b0d0b0b0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090d0c0c0c0c0b0c0a0c0d0b0b0d0b0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090d0c0c0c0c0b0a0d0c0c0d0a0d0b0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090c0c0a0d0b0d0b0b0a0c0c0a0d0b0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090c0a0c0d0b0b0d0a0d0d0d0b0d0b0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090a0d0c0c0d0a0d0a0d0d0d0b0b0d0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090b0b0a0c0c0a0d0d0d0c0c0d0a0d0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090b0b0a0c0c0a0d0d0b0a0c0c0a0d0900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0909090909090909090909090909090900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
