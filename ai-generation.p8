pico-8 cartridge // http://www.pico-8.com
version 20
__lua__
local people={}

function rnb(lo,hi)
	return flr(lo+rnd(hi-lo+1))
end

function _init()
    srand(time())
    local person
    for i=1,5 do    				
        person={
            x=56,      --mid(1,rnb(0,128),128-16),
            y=3+(i-1)*(16+10), --mid(1,rnb(0,128),128-16),
            c=rnb(1,15),
            flip_x=rnb(0,10)>5,
            draw=function(self)
                pal(6,self.c)
                spr(1,self.x,self.y,2,2,self.flip_x)
            end
        }
        add(people,person)
    end    
end

function _update()
    
end

function _draw()
    cls()
    line(64,0,64,127,10)
    rect(0,0,127,127,10)
    print("size:"..#people,5,10)
    for p in all(people) do
    	rect(p.x,p.y,p.x+16,p.y+16,7)
        p:draw()       
    end
    pal()
end

__gfx__
00000000000000009900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000099940000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000059540000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000099940000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000009400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000006666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000066616664460000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000620061640060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000900061640046000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009900066640004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000222220009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000200020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000002200024000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000002000002400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000002000000400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000999000099900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
