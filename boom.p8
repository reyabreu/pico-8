pico-8 cartridge // http://www.pico-8.com
version 20
__lua__
burst={}
explosions={}
::_::
cls(1)
rect(0,0,127,127,2)

if #explosions==0 and btn(❎) then
	for i=1,4 do
		local e={
			x=rnd(3*i)+54,
			y=rnd(3*i)+54,
			r=rnd(6)+7,
		}
		add(explosions, e)
	end
	sfx(0)
end

local sx,sy,c
if (#explosions>0) sx,sy,c=0,0,#explosions
for e in all(explosions) do
	sx+=e.x
	sy+=e.y
 local c=e.r<2 and 9 or (e.r<6 and 10 or 7)
	circfill(e.x,e.y,e.r,c)
	e.r-=1
	if (e.r<0) del(explosions,e)
end
if #explosions>0 then
	local bx,by=flr(sx/c),flr(sy/c)
	local s="boom!"
	print(s,flr(bx-#s/2),by,8)
end
flip()
goto _
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00080000196403467022660186500f6400b6300562002620026000260002600096000760002600016000160001600016000160001600026000260002600026000260002600000000000000000000000000000000
0005000001320206501a65017650136500e6500c6500a650096500965000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
