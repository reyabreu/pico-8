pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
ball={}
ramps={}
g=0.1

function make_ball(x,y)
	local ball={
		r=2,
		x=x,
		y=y,
		c=10,
		sx=0,
		sy=0,
	}
	return ball
end

function make_ramp(x0,y0,x1,y1)
	local ramp={
		x0=x0,
		y0=y0,
		x1=x1,
		y1=y1,
		w=2,
		c=6,
	}
	return ramp	
end

function _init()
	ball=make_ball(64,4)
	add(ramps,make_ramp(40,60,80,80))
	add(ramps,make_ramp(30,20,70,25))
end

function _update()
	local bx,by=ball.x,ball.y
	ball.sy+=g
	by+=ball.sy
	ball.y=mid(ball.y,by,124)
end

function _draw()
	cls(1)
	--ball
	circfill(ball.x,ball.y,ball.r,ball.c)
	--ramps
	for r in all(ramps) do
		line(r.x0,r.y0-r.w/2,r.x1,r.y1-r.w/2,r.c)
		line(r.x0,r.y0+r.w/2,r.x1,r.y1+r.w/2,r.c)
		line(r.x0,r.y0-r.w/2,r.x0,r.y0+r.w/2)
		line(r.x1,r.y1-r.w/2,r.x1,r.y1+r.w/2)
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
